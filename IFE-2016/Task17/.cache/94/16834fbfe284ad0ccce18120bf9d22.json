{"id":"chart.html","dependencies":[{"name":"D:\\ProgramCodes\\BaiduFrontEndAcademy-HW\\IFE-2016\\Task17\\package.json","includedInParent":true,"mtime":1584158245092}],"generated":{"html":"<!DOCTYPE html>\r\n <html>\r\n  \r\n\r\n<head>\r\n       <title>Bring Your Charts to Life</title>\r\n      \r\n    <script>// chart sample data\nvar arrVisitors = new Array();\narrVisitors[0] = \"2007, 750\";\narrVisitors[1] = \"2008, 425\";\narrVisitors[2] = \"2009, 960\";\narrVisitors[3] = \"2010, 700\";\narrVisitors[4] = \"2011, 800\";\narrVisitors[5] = \"2012, 975\";\narrVisitors[6] = \"2013, 375\";\narrVisitors[7] = \"2014, 775\";\nvar canvas;\nvar context; // chart properties\n\nvar cWidth, cHeight, cMargin, cSpace;\nvar cMarginSpace, cMarginHeight; // bar properties\n\nvar bWidth, bMargin, totalBars, maxDataValue;\nvar bWidthMargin; // bar animation\n\nvar ctr, numctr, speed; // axis property\n\nvar totLabelsOnYAxis; // barchart constructor\n\nfunction barChart() {\n  canvas = document.getElementById('bchart');\n\n  if (canvas && canvas.getContext) {\n    context = canvas.getContext('2d');\n  }\n\n  chartSettings();\n  drawAxisLabelMarkers();\n  drawChartWithAnimation();\n} // initialize the chart and bar values\n\n\nfunction chartSettings() {\n  // chart properties\n  cMargin = 25;\n  cSpace = 60;\n  cHeight = canvas.height - 2 * cMargin - cSpace;\n  cWidth = canvas.width - 2 * cMargin - cSpace;\n  cMarginSpace = cMargin + cSpace;\n  cMarginHeight = cMargin + cHeight; // bar properties\n\n  bMargin = 15;\n  totalBars = arrVisitors.length;\n  bWidth = cWidth / totalBars - bMargin; // find maximum value to plot on chart\n\n  maxDataValue = 0;\n\n  for (var i = 0; i < totalBars; i++) {\n    var arrVal = arrVisitors[i].split(\",\");\n    var barVal = parseInt(arrVal[1]);\n    if (parseInt(barVal) > parseInt(maxDataValue)) maxDataValue = barVal;\n  }\n\n  totLabelsOnYAxis = 10;\n  context.font = \"10pt Garamond\"; // initialize Animation variables\n\n  ctr = 0;\n  numctr = 100;\n  speed = 10;\n} // draw chart axis, labels and markers\n\n\nfunction drawAxisLabelMarkers() {\n  context.lineWidth = \"2.0\"; // draw y axis\n\n  drawAxis(cMarginSpace, cMarginHeight, cMarginSpace, cMargin); // draw x axis\n\n  drawAxis(cMarginSpace, cMarginHeight, cMarginSpace + cWidth, cMarginHeight);\n  context.lineWidth = \"1.0\";\n  drawMarkers();\n} // draw X and Y axis\n\n\nfunction drawAxis(x, y, X, Y) {\n  context.beginPath();\n  context.moveTo(x, y);\n  context.lineTo(X, Y);\n  context.closePath();\n  context.stroke();\n} // draw chart markers on X and Y Axis\n\n\nfunction drawMarkers() {\n  var numMarkers = parseInt(maxDataValue / totLabelsOnYAxis);\n  context.textAlign = \"right\";\n  context.fillStyle = \"#000\";\n  ; // Y Axis\n\n  for (var i = 0; i <= totLabelsOnYAxis; i++) {\n    markerVal = i * numMarkers;\n    markerValHt = i * numMarkers * cHeight;\n    var xMarkers = cMarginSpace - 5;\n    var yMarkers = cMarginHeight - markerValHt / maxDataValue;\n    context.fillText(markerVal, xMarkers, yMarkers, cSpace);\n  } // X Axis\n\n\n  context.textAlign = 'center';\n\n  for (var i = 0; i < totalBars; i++) {\n    arrval = arrVisitors[i].split(\",\");\n    name = arrval[0];\n    markerXPos = cMarginSpace + bMargin + i * (bWidth + bMargin) + bWidth / 2;\n    markerYPos = cMarginHeight + 10;\n    context.fillText(name, markerXPos, markerYPos, bWidth);\n  }\n\n  context.save(); // Add Y Axis title\n\n  context.translate(cMargin + 10, cHeight / 2);\n  context.rotate(Math.PI * -90 / 180);\n  context.fillText('Visitors in Thousands', 0, 0);\n  context.restore(); // Add X Axis Title\n\n  context.fillText('Year Wise', cMarginSpace + cWidth / 2, cMarginHeight + 30);\n}\n\nfunction drawChartWithAnimation() {\n  // Loop through the total bars and draw\n  for (var i = 0; i < totalBars; i++) {\n    var arrVal = arrVisitors[i].split(\",\");\n    bVal = parseInt(arrVal[1]);\n    bHt = bVal * cHeight / maxDataValue / numctr * ctr;\n    bX = cMarginSpace + i * (bWidth + bMargin) + bMargin;\n    bY = cMarginHeight - bHt - 2;\n    drawRectangle(bX, bY, bWidth, bHt, true);\n  } // timeout runs and checks if bars have reached\n  // the desired height; if not, keep growing\n\n\n  if (ctr < numctr) {\n    ctr = ctr + 1;\n    setTimeout(arguments.callee, speed);\n  }\n}\n\nfunction drawRectangle(x, y, w, h, fill) {\n  context.beginPath();\n  context.rect(x, y, w, h);\n  context.closePath();\n  context.stroke();\n\n  if (fill) {\n    var gradient = context.createLinearGradient(0, 0, 0, 300);\n    gradient.addColorStop(0, 'green');\n    gradient.addColorStop(1, 'rgba(67,203,36,.15)');\n    context.fillStyle = gradient;\n    context.strokeStyle = gradient;\n    context.fill();\n  }\n}</script>\r\n     <noscript>\r\n          This chart is unavailable because JavaScript is disabled on your computer. Please enable\r\n          JavaScript and refresh this page to see the chart in action.\r\n         </noscript>\r\n</head>\r\n \r\n\r\n<body onLoad=\"barChart();\">\r\n       <canvas id=\"bchart\" height=\"400\" width=\"600\">Your browser does not support HTML5 Canvas\r\n           </canvas>\r\n</body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"1bd09169db2d8dfaf65675c20eac8064","cacheData":{"env":{}}}